<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Agile Royale</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">

    <style>
        .w3-lobster {
            font-family: "Comic Sans MS", cursive, sans-serif;
        }
    </style>

</head>
<body>

<div class="w3-container w3-lobster text-center">
    <img src="../img/logo.png">
    <br>
    <br>
    <br>
    <p class="w3-xxxlarge">Definição dos Grupos</p>
</div>

<form th:action="@{/setteams}" th:object="${team}" method="post" id="myForm">


    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6 text-center">

                <table width="100%" class="table listPlayers">
                    <tbody th:id="listP">
                    <tr th:each="ad,rowStat : *{listPlayers}">
                        <td>
                            Elemento <span th:text="${rowStat.index + 1}"></span>  <input list="nameList" th:field="*{listPlayers[__${rowStat.index}__]}" th:value="${rowStat.index}" required/>
                        </td>
                    </tr>
                    </tbody>
                </table>

            </div>
            <div class="col-sm-3"></div>
        </div>

        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6 text-center">
                <br>
                <input type="button" class="btn  btn-primary" id="addPlayer" value="Adicionar Elemento"/>
                <input type="button" class="btn  btn-primary" id="removePlayer" value="Remover Elemento"/>
                <br>
                <br>
                <input type="submit"  class="btn btn-success" value = "concluido" />
            </div>
            <div class="col-sm-3"></div>
        </div>
    </div>

    <!-- TODO: falta colocar aqui todos os alunos da turma -->
    <datalist id="nameList">
        <option value="Eliana Fernandes">
        <option value="Any Pereira">
        <option value="Filipa Sousa">
        <option value="Carlos Dias">
        <option value="Dany Carvalho">
        <option value="José Viegas">
        <option value="Jorge Pinheiro">
        <option value="André Vicente">
        <option value="Marcio Carvalho">
        <option value="João Pequeno">
        <option value="Hugo Paula">
        <option value="Samuel Cruz">
        <option value="Catarina Proença">
        <option value="António Oliveira">
        <option value="Anabela Carreira">
        <option value="Eduardo Spencer">
        <option value="Joana Marques">
        <option value="João Sousa">
        <option value="Sandrine Pinto">
    </datalist>

</form>

</body>
<script>

    var nMaxElements = 4;

    var listPlayers = $('#listP');
    var numberPlayers = $('#listP tr').length;


    $('#addPlayer').click(function() {

        numberPlayers = $('#listP tr').length;

        //alert(numberPlayers);

        if(numberPlayers <= nMaxElements)
        {
            //alert(namePlayer);
            listPlayers.append('<tr><td>' +
                'Elemento ' + (numberPlayers + 1) +'  '+
                '<input list="nameList" id="listPlayers'+numberPlayers+'" name="listPlayers[' + numberPlayers + ']" required/>' +
                '</td></tr>');
        }
    });

    $('#removePlayer').click(function() {

        numberPlayers = $('#listP tr').length;

        if(numberPlayers > 1)
        {
            $('#listP>tr:last-child').before().remove();
        }
    });

</script>
</html>
